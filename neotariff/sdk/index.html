<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeoTariff ‚Äî Python SDK</title>
    <link rel="stylesheet" href="/shared/styles.css" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="icon" href="/favicon.ico" sizes="32x32" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
    <script type="text/babel" src="/shared/components.js"></script>
    <script type="text/babel">
      const {
        NeoNav,
        NeoFooter,
        NeoGrain,
        NeoDivider,
        NeoHero,
        NeoSideNav,
        NeoSectionLabel,
        NeoPageNav,
        useScrollAnimation,
        useHashScroll,
        ArrowIcon,
      } = window;
      const { useState, useEffect } = React;

      const NeoTariffSDK = () => {
        const [expandedGroup, setExpandedGroup] = useState(null);

        const isV = useScrollAnimation();
        useHashScroll();

        const sideNavSections = [
          { id: 'capabilities', label: 'What It Provides' },
          { id: 'resources', label: 'Resource Groups' },
          { id: 'quick-start', label: 'Quick Start' },
        ];
        const resources = [
          {
            id: 'rates',
            title: 'Rates',
            desc: 'Tariff duty calculations ‚Äî single entries, batch processing, and multi-country comparisons. The core of the SDK.',
            methods: [
              {
                name: 'evaluate_entry',
                desc: 'Calculate total duties for a single import entry with all Chapter 99 rules.',
                maps: 'POST /rates/entry',
              },
              {
                name: 'evaluate_entries',
                desc: 'Process up to 1,000 entries in parallel with per-entry overrides.',
                maps: 'POST /rates/entries',
              },
              {
                name: 'evaluate_multicountry',
                desc: 'Calculate duties for one product from multiple countries of origin.',
                maps: 'POST /rates/multicountry',
              },
            ],
          },
          {
            id: 'search',
            title: 'Search',
            desc: 'Find HTS codes by code prefix, description text, or natural language. Includes autocomplete and full-text document search.',
            methods: [
              {
                name: 'hts',
                desc: 'Search HTS codes by code prefix or description text.',
                maps: 'GET /search/hts',
              },
              {
                name: 'autocomplete_hts',
                desc: 'Lightweight autocomplete for HTS code lookup.',
                maps: 'GET /search/autocomplete/hts',
              },
              {
                name: 'hts_by_description',
                desc: 'Find HTS codes matching a natural language description.',
                maps: 'GET /search/hts/by-description',
              },
              {
                name: 'hts_docs',
                desc: 'Unified search across all HTS documentation types.',
                maps: 'GET /search/hts-docs',
              },
              {
                name: 'semantic_context',
                desc: 'AI-powered semantic search across notes and components.',
                maps: 'GET /search/semantic/context',
              },
            ],
          },
          {
            id: 'context',
            title: 'Context',
            desc: 'HTS code details, schedule navigation, country data, trade programs, notes, and materials ‚Äî everything needed to understand the tariff landscape.',
            methods: [
              {
                name: 'get_hts_code',
                desc: 'Comprehensive context for a single HTS code.',
                maps: 'GET /context/hts/{hts_code}',
              },
              {
                name: 'get_hts_details',
                desc: 'Description, rates, units in a flat structure.',
                maps: 'GET /context/hts/{hts_code}/details',
              },
              {
                name: 'get_hts_hub',
                desc: 'Consolidated context hub with selectable sections.',
                maps: 'GET /context/hts/{hts_code}/hub',
              },
              {
                name: 'list_sections',
                desc: 'All 22 HTS sections with metadata.',
                maps: 'GET /context/hts/sections',
              },
              {
                name: 'list_chapters_by_section',
                desc: 'Chapters within a specific HTS section.',
                maps: 'GET /context/hts/sections/{id}/chapters',
              },
              {
                name: 'list_countries',
                desc: 'All countries with ISO codes and program eligibility.',
                maps: 'GET /context/countries',
              },
              {
                name: 'get_country',
                desc: 'Detailed reference for a specific country.',
                maps: 'GET /context/countries/{code}',
              },
            ],
          },
          {
            id: 'compare',
            title: 'Compare',
            desc: 'Version-to-version diffs, cross-country tariff comparisons, and HTS code change history.',
            methods: [
              {
                name: 'tariff',
                desc: 'Compare tariff duties across multiple countries.',
                maps: 'POST /compare/tariff',
              },
              {
                name: 'hts_rates',
                desc: 'Compare duty rates between two HTS revisions.',
                maps: 'GET /compare/hts/{code}',
              },
              {
                name: 'sources',
                desc: 'Comprehensive diff between two HTS source versions.',
                maps: 'GET /compare/sources',
              },
            ],
          },
          {
            id: 'versions',
            title: 'Versions',
            desc: 'List all available HTS source versions with metadata, effective dates, and active status.',
            methods: [
              {
                name: 'list',
                desc: 'All HTS revisions available in the system.',
                maps: 'GET /versions',
              },
            ],
          },
        ];

        const features = [
          {
            title: 'Typed Responses',
            desc: 'Every method returns Pydantic-validated response models. No untyped dicts.',
            icon: 'üìê',
          },
          {
            title: 'Sync + Async',
            desc: 'NeoTariffClient for sync, AsyncNeoTariffClient for async. Identical API surface.',
            icon: '‚ö°',
          },
          {
            title: 'Automatic Retries',
            desc: 'Configurable retry with exponential backoff on transient failures.',
            icon: 'üîÑ',
          },
          {
            title: 'Error Hierarchy',
            desc: '9 typed exception classes covering auth, validation, rate limit, and server errors.',
            icon: 'üõ°Ô∏è',
          },
          {
            title: 'Batch Methods',
            desc: 'evaluate_entries processes up to 1,000 entries per request.',
            icon: 'üì¶',
          },
          {
            title: 'API Key Auth',
            desc: 'Simple API key via constructor or NEOTARIFF_API_KEY environment variable.',
            icon: 'üîë',
          },
        ];

        const errorClasses = [
          { name: 'NeoTariffError', desc: 'Base for all SDK errors' },
          { name: 'NeoTariffHTTPError', desc: 'Non-2xx HTTP response' },
          { name: 'AuthenticationError', desc: '401/403 ‚Äî check your API key' },
          { name: 'NotFoundError', desc: '404 ‚Äî resource not found' },
          { name: 'ValidationError', desc: '422 ‚Äî request body failed validation' },
          { name: 'RateLimitError', desc: '429 ‚Äî slow down' },
          { name: 'ServerError', desc: '500+ ‚Äî server error' },
          { name: 'NeoTariffAPIError', desc: '2xx but success=False' },
          { name: 'NeoTariffConnectionError', desc: 'Network/timeout errors' },
        ];

        return (
          <div
            style={{
              fontFamily: '"Source Serif 4",Georgia,serif',
              background: 'var(--bg)',
              color: 'var(--text-primary)',
              minHeight: '100vh',
            }}
          >
            <NeoGrain />
            <NeoNav activePage="sdk" />
            <NeoSideNav sections={sideNavSections} />

            {/* Hero */}
            <NeoHero
              label="NeoTariff &middot; Python SDK"
              title="Build With Confidence"
              description="Full API surface in a typed Python package. Sync and async clients, Pydantic response models, automatic retries, and batch methods. 5 resource groups, 15 typed response models. Install in seconds. Query in three lines."
              glow="narrow"
              ctas={[{ href: SITE.pypiUrl, label: 'View on PyPI', external: true }]}
              stats={[
                { val: '5', label: 'Resource groups' },
                {
                  val: String(resources.reduce((s, r) => s + r.methods.length, 0)),
                  label: 'Typed methods',
                },
                { val: 'Sync + Async', label: 'Clients' },
                { val: 'Pydantic', label: 'Response models' },
              ]}
            />

            <div className="divider" />

            {/* SDK Features */}
            <section style={{ padding: '64px var(--px)' }}>
              <div className="section-inner">
                <div id="capabilities" data-animate className={`anim ${isV('capabilities') ? 'vis' : ''}`}>
                  <NeoSectionLabel text="What the SDK Provides" slug="capabilities" />
                  <div
                    style={{
                      display: 'grid',
                      gridTemplateColumns: 'var(--grid-3)',
                      gap: 14,
                      marginTop: 20,
                    }}
                  >
                    {features.map((f, i) => (
                      <div key={i} className="info-card">
                        <div style={{ fontSize: 22, marginBottom: 10 }}>{f.icon}</div>
                        <div
                          className="sans"
                          style={{ fontSize: 'var(--fs-base)', fontWeight: 600, marginBottom: 6 }}
                        >
                          {f.title}
                        </div>
                        <div className="sans section-desc" style={{ fontSize: 'var(--fs-sm)' }}>
                          {f.desc}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </section>

            <div className="divider" />

            {/* Resource Groups */}
            <section style={{ padding: '64px var(--px)' }}>
              <div className="section-inner">
                <div
                  id="resources"
                  data-animate
                  className={`anim ${isV('resources') ? 'vis' : ''}`}
                  style={{ marginBottom: 32 }}
                >
                  <NeoSectionLabel text="Resource Groups" slug="resources" />
                  <h2 className="section-heading" style={{ marginBottom: 10 }}>
                    5 resource groups. {resources.reduce((s, r) => s + r.methods.length, 0)}{' '}
                    methods.
                  </h2>
                  <p className="sans section-desc" style={{ maxWidth: 600 }}>
                    Every SDK method maps 1:1 to a REST API endpoint. Typed inputs, Pydantic
                    response models, and automatic error handling.
                  </p>
                </div>
                <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>
                  {resources.map((group, gi) => {
                    const isExp = expandedGroup === group.id;
                    return (
                      <div
                        key={group.id}
                        id={`r-${gi}`}
                        data-animate
                        className={`group-card anim ${isV(`r-${gi}`) ? 'vis' : ''} ${isExp ? 'expanded' : ''}`}
                        style={{ transitionDelay: `${gi * 0.03}s` }}
                      >
                        <div
                          onClick={() => setExpandedGroup(isExp ? null : group.id)}
                          style={{
                            padding: '22px 28px',
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center',
                          }}
                        >
                          <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>
                            <span
                              className="mono"
                              style={{
                                fontSize: 26,
                                fontWeight: 700,
                                color: isExp ? 'var(--accent)' : 'var(--border)',
                                letterSpacing: '-0.03em',
                                minWidth: 36,
                                transition: 'color 0.3s',
                              }}
                            >
                              {String(gi + 1).padStart(2, '0')}
                            </span>
                            <div>
                              <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>
                                <h3
                                  className="sans"
                                  style={{
                                    fontSize: 'var(--fs-md)',
                                    fontWeight: 600,
                                    letterSpacing: '-0.01em',
                                    color: isExp ? 'var(--text-primary)' : 'var(--text-secondary)',
                                    transition: 'color 0.3s',
                                  }}
                                >
                                  {group.title}
                                </h3>
                                <span
                                  className="mono"
                                  style={{
                                    fontSize: 11,
                                    color: isExp ? 'var(--accent)' : 'var(--text-muted)',
                                    padding: '2px 8px',
                                    background: isExp
                                      ? 'rgba(var(--accent-rgb),0.08)'
                                      : 'transparent',
                                    border:
                                      '1px solid ' +
                                      (isExp ? 'rgba(var(--accent-rgb),0.2)' : 'var(--border)'),
                                    transition: 'all 0.3s var(--ease)',
                                  }}
                                >
                                  client.{group.id}
                                </span>
                              </div>
                              <p
                                className="sans"
                                style={{
                                  fontSize: 'var(--fs-sm)',
                                  color: 'var(--text-secondary)',
                                  marginTop: 4,
                                  lineHeight: 1.6,
                                  maxWidth: 600,
                                }}
                              >
                                {group.desc}
                              </p>
                            </div>
                          </div>
                          <div style={{ display: 'flex', alignItems: 'center', gap: 14 }}>
                            <span
                              className="endpoint-count mono"
                              style={{
                                fontSize: 'var(--fs-xs)',
                                color: isExp ? 'var(--accent)' : 'var(--text-muted)',
                              }}
                            >
                              {group.methods.length} method{group.methods.length > 1 ? 's' : ''}
                            </span>
                            <svg
                              width="14"
                              height="14"
                              viewBox="0 0 14 14"
                              style={{
                                transform: isExp ? 'rotate(180deg)' : 'rotate(0)',
                                transition: 'transform 0.3s',
                              }}
                            >
                              <path
                                d="M3 5.5L7 9.5L11 5.5"
                                stroke="var(--text-muted)"
                                strokeWidth="1.2"
                                fill="none"
                                strokeLinecap="round"
                              />
                            </svg>
                          </div>
                        </div>
                        {isExp && (
                          <div style={{ padding: '0 28px 22px', paddingLeft: 80 }}>
                            <div style={{ display: 'flex', flexDirection: 'column', gap: 6 }}>
                              {group.methods.map((m, mi) => {
                                const mParts = m.maps.split(' ');
                                const mMethod = mParts[0];
                                const mPath = mParts.slice(1).join(' ');
                                return (
                                  <div
                                    key={mi}
                                    style={{
                                      display: 'flex',
                                      gap: 12,
                                      alignItems: 'flex-start',
                                      padding: '10px 14px',
                                      background: 'var(--bg-elevated)',
                                      borderLeft: '2px solid rgba(var(--accent-rgb),0.15)',
                                    }}
                                  >
                                    <span
                                      className={`method-badge ${mMethod === 'GET' ? 'method-get' : 'method-post'}`}
                                      style={{ flexShrink: 0, marginTop: 2 }}
                                    >
                                      {mMethod}
                                    </span>
                                    <div style={{ flex: 1 }}>
                                      <div
                                        style={{ display: 'flex', alignItems: 'center', gap: 10 }}
                                      >
                                        <code
                                          className="mono"
                                          style={{
                                            fontSize: 'var(--fs-sm)',
                                            fontWeight: 600,
                                            color: 'var(--text-primary)',
                                          }}
                                        >
                                          .{m.name}()
                                        </code>
                                        <code
                                          className="mono"
                                          style={{ fontSize: 10.5, color: 'var(--text-muted)' }}
                                        >
                                          {mPath}
                                        </code>
                                      </div>
                                      <p
                                        className="sans"
                                        style={{
                                          fontSize: 'var(--fs-sm)',
                                          color: 'var(--text-secondary)',
                                          marginTop: 4,
                                          lineHeight: 1.6,
                                        }}
                                      >
                                        {m.desc}
                                      </p>
                                    </div>
                                  </div>
                                );
                              })}
                            </div>
                          </div>
                        )}
                      </div>
                    );
                  })}
                </div>
              </div>
            </section>

            <div className="divider" />

            {/* Quick Start */}
            <section style={{ padding: '64px var(--px)' }}>
              <div className="section-inner">
                <div id="quick-start" data-animate className={`anim ${isV('quick-start') ? 'vis' : ''}`}>
                  <NeoSectionLabel text="Quick Start" slug="quick-start" />
                  <h2 className="section-heading-sm" style={{ marginBottom: 24 }}>
                    Three lines to your first duty calculation
                  </h2>
                  <div
                    style={{
                      background: 'var(--bg-card)',
                      border: '1px solid var(--border)',
                      borderRadius: 'var(--radius)',
                      padding: '24px 28px',
                      fontFamily: "'JetBrains Mono',monospace",
                      fontSize: 'var(--fs-sm)',
                      lineHeight: 1.75,
                      color: 'var(--text-secondary)',
                    }}
                  >
                    <div>
                      <span style={{ color: 'var(--blue)' }}>from</span>{' '}
                      <span style={{ color: 'var(--text-primary)' }}>neo_tariff</span>{' '}
                      <span style={{ color: 'var(--blue)' }}>import</span>{' '}
                      <span style={{ color: 'var(--text-primary)' }}>NeoTariffClient</span>
                    </div>
                    <div style={{ height: 8 }} />
                    <div>
                      <span style={{ color: 'var(--text-primary)' }}>client</span> ={' '}
                      <span style={{ color: 'var(--text-primary)' }}>NeoTariffClient</span>(
                      <span style={{ color: 'var(--green)' }}>api_key</span>=
                      <span style={{ color: 'var(--orange)' }}>"your-key"</span>)
                    </div>
                    <div style={{ height: 8 }} />
                    <div>
                      <span style={{ color: 'var(--text-primary)' }}>result</span> ={' '}
                      <span style={{ color: 'var(--text-primary)' }}>client</span>.
                      <span style={{ color: 'var(--accent)' }}>rates</span>.
                      <span style={{ color: 'var(--accent)' }}>evaluate_entry</span>(
                    </div>
                    <div style={{ paddingLeft: 32 }}>
                      <span style={{ color: 'var(--green)' }}>hts_code</span>=
                      <span style={{ color: 'var(--orange)' }}>"6109.10.00.12"</span>,
                    </div>
                    <div style={{ paddingLeft: 32 }}>
                      <span style={{ color: 'var(--green)' }}>country_of_origin</span>=
                      <span style={{ color: 'var(--orange)' }}>"CN"</span>,
                    </div>
                    <div style={{ paddingLeft: 32 }}>
                      <span style={{ color: 'var(--green)' }}>cost</span>=
                      <span style={{ color: 'var(--orange)' }}>1000</span>,{' '}
                      <span style={{ color: 'var(--green)' }}>qty</span>=
                      <span style={{ color: 'var(--orange)' }}>1000</span>,{' '}
                      <span style={{ color: 'var(--green)' }}>reciprocal</span>=
                      <span style={{ color: 'var(--blue)' }}>True</span>
                    </div>
                    <div>)</div>
                  </div>
                  <p
                    className="sans"
                    style={{
                      fontSize: 'var(--fs-sm)',
                      color: 'var(--text-secondary)',
                      marginTop: 14,
                    }}
                  >
                    Or use{' '}
                    <code className="mono" style={{ color: 'var(--text-secondary)' }}>
                      NEOTARIFF_API_KEY
                    </code>{' '}
                    environment variable ‚Äî no key in code needed.
                  </p>
                </div>
              </div>
            </section>

            <div className="divider" />

            {/* Error Handling */}
            <section style={{ padding: '64px var(--px)' }}>
              <div className="section-inner">
                <div id="errors" data-animate className={`anim ${isV('errors') ? 'vis' : ''}`}>
                  <NeoSectionLabel text="Error Handling" slug="errors" />
                  <h2 className="section-heading-sm" style={{ marginBottom: 24 }}>
                    Typed exception hierarchy
                  </h2>
                  <div style={{ display: 'flex', flexDirection: 'column', gap: 4 }}>
                    {errorClasses.map((e, i) => (
                      <div
                        key={i}
                        style={{
                          display: 'flex',
                          gap: 16,
                          alignItems: 'center',
                          padding: '10px 16px',
                          background: i % 2 === 0 ? 'var(--bg-card)' : 'transparent',
                          borderLeft:
                            i < 2 ? '2px solid var(--border)' : '2px solid rgba(251,191,36,0.2)',
                        }}
                      >
                        <code
                          className="mono"
                          style={{
                            fontSize: 'var(--fs-sm)',
                            color: i < 2 ? 'var(--text-secondary)' : 'var(--orange)',
                            minWidth: 200,
                          }}
                        >
                          {e.name}
                        </code>
                        <span
                          className="sans"
                          style={{ fontSize: 'var(--fs-sm)', color: 'var(--text-secondary)' }}
                        >
                          {e.desc}
                        </span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </section>

            <div className="divider" />

            {/* CTA */}
            <section
              style={{
                padding: '96px var(--px)',
                textAlign: 'center',
                position: 'relative',
                overflow: 'hidden',
              }}
            >
              <div className="cta-glow" />
              <div className="section-inner-narrow" style={{ position: 'relative' }}>
                <div id="cta" data-animate className={`anim ${isV('cta') ? 'vis' : ''}`}>
                  <h2 className="section-heading-lg" style={{ marginBottom: 16 }}>
                    Start building with NeoTariff
                  </h2>
                  <p className="sans section-desc" style={{ marginBottom: 32 }}>
                    Create a free account to get your API key, then install the SDK and make your
                    first duty calculation.
                  </p>
                  <div className="cta-row">
                    <a
                      href={SITE.signupUrl}
                      className="cta-btn w200 sans"
                      style={{ textDecoration: 'none' }}
                    >
                      Get API Key
                    </a>
                    <a
                      href={SITE.pypiUrl}
                      target="_blank"
                      className="cta-btn w200 cta-btn-outline sans"
                      style={{ textDecoration: 'none' }}
                    >
                      PyPI Package ‚Üó
                    </a>
                  </div>
                </div>
              </div>
            </section>
            <NeoPageNav
              prev={{ href: '/neotariff/api/', label: 'REST API' }}
              next={{ href: '/neotariff/technology/', label: 'Technology' }}
            />
            <NeoFooter />
          </div>
        );
      };

      ReactDOM.createRoot(document.getElementById('root')).render(<NeoTariffSDK />);
    </script>
  </body>
</html>
